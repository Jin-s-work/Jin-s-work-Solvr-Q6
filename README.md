# ν’€μ¤νƒ μ„λΉ„μ¤ λ³΄μΌλ¬ ν”λ μ΄νΈ

## ν”„λ΅μ νΈ κ°μ”

μ΄ λ³΄μΌλ¬ ν”λ μ΄νΈλ” ν’€μ¤νƒ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ… κ°λ°μ„ μ„ν• κΈ°λ³Έ κµ¬μ΅°λ¥Ό μ κ³µν•©λ‹λ‹¤. monorepo κµ¬μ΅°λ΅ ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„λ¥Ό ν¨μ¨μ μΌλ΅ κ΄€λ¦¬ν•λ©°, ν„λ€μ μΈ μ›Ή κ°λ° κΈ°μ  μ¤νƒμ„ ν™μ©ν•©λ‹λ‹¤.

## κΈ°μ  μ¤νƒ

### κ³µν†µ

- ν¨ν‚¤μ§€ λ§¤λ‹μ €: pnpm (workspace κΈ°λ¥ ν™μ©)
- μ–Έμ–΄: TypeScript
- Node.js λ²„μ „: 22.x
- ν…μ¤νΈ: Vitest
- μ½”λ“ ν’μ§: Prettier

### ν΄λΌμ΄μ–ΈνΈ

- ν”„λ μ„μ›ν¬: React
- λΉλ“ λ„κµ¬: Vite
- λΌμ°ν…: React Router
- μ¤νƒ€μΌλ§: TailwindCSS

### μ„λ²„

- ν”„λ μ„μ›ν¬: Fastify
- λ°μ΄ν„°λ² μ΄μ¤: SQLite with DirzzleORM

## μ„¤μΉ λ° μ‹¤ν–‰

### μ΄κΈ° μ„¤μΉ

```bash
# ν”„λ΅μ νΈ λ£¨νΈ λ””λ ‰ν† λ¦¬μ—μ„ μ‹¤ν–‰
pnpm install
```

### κ°λ° μ„λ²„ μ‹¤ν–‰

```bash
# ν΄λΌμ΄μ–ΈνΈ λ° μ„λ²„ λ™μ‹ μ‹¤ν–‰
pnpm dev

# ν΄λΌμ΄μ–ΈνΈλ§ μ‹¤ν–‰
pnpm dev:client

# μ„λ²„λ§ μ‹¤ν–‰
pnpm dev:server
```

### ν…μ¤νΈ μ‹¤ν–‰

```bash
# ν΄λΌμ΄μ–ΈνΈ ν…μ¤νΈ
pnpm test:client

# μ„λ²„ ν…μ¤νΈ
pnpm test:server

# λ¨λ“  ν…μ¤νΈ μ‹¤ν–‰
pnpm test
```

### λΉλ“

```bash
# ν΄λΌμ΄μ–ΈνΈ λ° μ„λ²„ λΉλ“
pnpm build
```

## ν™κ²½ λ³€μ μ„¤μ •

- ν΄λΌμ΄μ–ΈνΈ: `client/.env` νμΌμ— μ„¤μ • (μμ‹λ” `client/.env.example` μ°Έμ΅°)
- μ„λ²„: `server/.env` νμΌμ— μ„¤μ • (μμ‹λ” `server/.env.example` μ°Έμ΅°)

## API μ—”λ“ν¬μΈνΈ

μ„λ²„λ” λ‹¤μκ³Ό κ°™μ€ κΈ°λ³Έ API μ—”λ“ν¬μΈνΈλ¥Ό μ κ³µν•©λ‹λ‹¤:

- `GET /api/health`: μ„λ²„ μƒνƒ ν™•μΈ
- `GET /api/users`: μ μ € λ©λ΅ μ΅°ν
- `GET /api/users/:id`: νΉμ • μ μ € μ΅°ν
- `POST /api/users`: μƒ μ μ € μ¶”κ°€
- `PUT /api/users/:id`: μ μ € μ •λ³΄ μμ •
- `DELETE /api/users/:id`: μ μ € μ‚­μ 


# π’¤ SleepLog

μλ©΄ μ‹κ°„μ„ κ°„λ‹¨ν•κ² κΈ°λ΅ν•κ³  κ΄€λ¦¬ν•  μ μλ” ν’€μ¤νƒ μ›Ή μ• ν”λ¦¬μΌ€μ΄μ…μ…λ‹λ‹¤.  
React + Vite(ν΄λΌμ΄μ–ΈνΈ)μ™€ Fastify + Drizzle ORM + SQLite(μ„λ²„)λ΅ κµ¬μ„±λμ–΄ μμΌλ©°, λΉ λ¥Έ κ°λ°κ³Ό ν…μ¤νΈμ— μ©μ΄ν•λ„λ΅ μ„¤κ³„λμ—μµλ‹λ‹¤.

---

## β¨ μ£Όμ” κΈ°λ¥

- μλ©΄ κΈ°λ΅ λ“±λ΅ (λ‚ μ§, μ‹μ‘/μΆ…λ£ μ‹κ°„, νΉμ΄μ‚¬ν•­)
- κΈ°λ΅λ μλ©΄ μ •λ³΄ λ¦¬μ¤νΈ μ΅°ν
- κΈ°λ΅ μμ • λ° μ‚­μ  κΈ°λ¥
- ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ λ¶„λ¦¬ μ΄μ κ°€λ¥

---

## π› οΈ κΈ°μ  μ¤νƒ

### κ³µν†µ
- **TypeScript**
- **pnpm** (μ›ν¬μ¤νμ΄μ¤ κΈ°λ°)
- **Prettier**, **ESLint**, **Vitest**

### ν΄λΌμ΄μ–ΈνΈ
- **React 18 + Vite**
- **React Router DOM** (SPA λΌμ°ν…)
- **TailwindCSS** (μ ν‹Έλ¦¬ν‹° νΌμ¤νΈ CSS ν”„λ μ„μ›ν¬)
- **Axios** (HTTP ν΄λΌμ΄μ–ΈνΈ)

### μ„λ²„
- **Fastify** (κ³ μ„±λ¥ Node.js μ›Ή ν”„λ μ„μ›ν¬)
- **Drizzle ORM** (νƒ€μ… μ•μ •μ„±μ„ κ°–μ¶ ORM)
- **SQLite** (λ΅μ»¬ ν™κ²½μ© νμΌ κΈ°λ° κ²½λ‰ DB)

## π“ Changelog

### Task1: Mission Complete!
- κΈ°λ³Έ μλ©΄ κΈ°λ΅ CRUD κΈ°λ¥ κµ¬ν„ (Fastify + Drizzle ORM + React)

### Task2: Mission Complete!
- λ”λ―Έ λ°μ΄ν„° μλ™ μ‚½μ… λ΅μ§ μ¶”κ°€ (14μΌμΉ μƒν” μλ©΄ κΈ°λ΅)
- Recharts κΈ°λ° ν†µκ³„ λ€μ‹λ³΄λ“ (`ChartDashboard.tsx`) μ¶”κ°€

### Task3: Mission Complete! (AI μλ©΄ μ§„λ‹¨/μ΅°μ–Έ κΈ°λ¥)
- Google AI Studio Gemma LLM μ—°λ™μ„ μ„ν•΄ Python μ¤ν¬λ¦½νΈ(`generate_advice.py`) μƒμ„±
  - `google-genai` SDK μ‚¬μ©: `GEMINI_API_KEY` ν™κ²½ λ³€μ ν•„μ”
  - Prompt κµ¬μ„± ν›„ `gemma-3-1b-it` λ¨λΈμ— μ”μ²­ν•μ—¬ μ΅°μ–Έ ν…μ¤νΈ μƒμ„±
- Fastify ν•Έλ“¤λ¬(`POST /api/sleeps/advice`)μ—μ„ Python μ¤ν¬λ¦½νΈλ¥Ό `child_process.execFile`λ΅ νΈμ¶
  - μ„λ²„μ—μ„ μµκ·Ό NμΌμΉ μλ©΄ κΈ°λ΅μ„ μ·¨ν•©ν•΄ ν‘μ¤€ μ…λ ¥μΌλ΅ μ „λ‹¬
  - Python μ¤ν¬λ¦½νΈ μ‹¤ν–‰ κ²°κ³Ό(AI μ΅°μ–Έ)λ¥Ό JSON `{ advice: string }`λ΅ μ‘λ‹µ
- ν΄λΌμ΄μ–ΈνΈμ— **AI Advice** νμ΄μ§€(`Advice.tsx`) μ¶”κ°€
  - μ‚¬μ©μκ°€ β€μµκ·Ό λ©°μΉ μΉβ€λ¥Ό μ§€μ •ν•΄ AI μ΅°μ–Έ μƒμ„± μ”μ²­
  - μ„λ²„λ΅λ¶€ν„° λ°›μ€ μ΅°μ–Έμ„ μΉκ·Όν• ν•κµ­μ–΄ λ¬Έμ¥μΌλ΅ ν™”λ©΄μ— ν‘μ‹
  - ν”„λ΅ νΈμ—”λ“ UIμ— AI μ΅°μ–Έ μ”μ²­ λ²„νΌκ³Ό μ‘λ‹µ κ²°κ³Ό μ¶λ ¥ μμ—­ μ¶”κ°€

- Task3 : pipμ΄ Macμ—μ„ μ μ‹¤ν–‰λμ§€ μ•μ•„μ„ (.venv) κ°€μƒν™κ²½μ—μ„ μ‹¤ν–‰ν•μ€μµλ‹λ‹¤.